---
// src/components/Hero.astro
import SpotlightHeroBackground from "./react/SpotlightHeroBackground.jsx";
import MagneticButton from "./react/MagneticButton.jsx";
---

<section
    id="home"
    class="relative min-h-[100svh] flex items-center justify-center overflow-hidden bg-[#0B1120]"
>
    <SpotlightHeroBackground client:load />

    <div
        class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] md:w-[600px] h-[300px] md:h-[600px] bg-sky-500/10 rounded-full blur-[80px] md:blur-[120px] pointer-events-none z-0 mix-blend-screen"
    >
    </div>

    <div
        class="relative z-10 container mx-auto px-4 md:px-6 flex flex-col items-center text-center w-full pt-28 md:pt-32"
    >
        <h1
            class="relative font-black text-white uppercase tracking-tighter mb-8 md:mb-12 group cursor-default w-full"
        >
            <div class="overflow-hidden mb-2 md:mb-4 py-1">
                <span
                    class="hero-title-element block text-sm sm:text-lg md:text-2xl font-bold tracking-[0.3em] md:tracking-[0.5em] text-sky-400/80"
                >
                    PROMETHEUS DIGITAL
                </span>
            </div>

            <div class="overflow-hidden py-2">
                <span
                    class="hero-title-element block text-4xl sm:text-5xl md:text-6xl lg:text-7xl text-gray-300 leading-[1.1]"
                >
                    WE BUILD YOUR BUSINESS'S
                </span>
            </div>

            <div class="overflow-hidden py-4">
                <span
                    class="hero-title-element block text-5xl sm:text-6xl md:text-7xl lg:text-9xl text-transparent bg-clip-text bg-gradient-to-b from-white via-sky-100 to-sky-300 filter drop-shadow-2xl leading-[1.1] md:leading-tight"
                >
                    DIGITAL FUTURE
                </span>
            </div>
        </h1>

        <p
            class="hero-desc max-w-2xl mx-auto text-base sm:text-lg md:text-xl text-gray-400 font-light leading-relaxed mb-8 md:mb-12 opacity-0 px-4"
        >
            Strategic websites that are not just beautiful, but <span
                class="text-white font-medium">convert</span
            >. Astro technology, premium design, and measurable results.
        </p>

        <div class="hero-btn opacity-0 w-full flex justify-center px-4 pb-10">
            <MagneticButton
                href="/contact"
                client:visible
                className="group relative inline-flex items-center justify-center w-full sm:w-auto px-8 py-4 md:px-10 md:py-5 bg-white text-[#0B1120] font-bold rounded-full overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-[0_0_40px_rgba(14,165,233,0.3)]"
            >
                <span
                    class="absolute inset-0 w-full h-full bg-gradient-to-r from-sky-400 via-cyan-300 to-sky-400 opacity-0 group-hover:opacity-100 transition-opacity duration-300"
                ></span>
                <span
                    class="relative z-10 flex items-center justify-center gap-3 tracking-wide text-sm md:text-base"
                >
                    FREE CONSULTATION
                    <svg
                        class="w-4 h-4 md:w-5 md:h-5 transition-transform duration-300 group-hover:translate-x-1"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        ><path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg
                    >
                </span>
            </MagneticButton>
        </div>
    </div>

    <div
        class="hero-scroll absolute bottom-6 md:bottom-10 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 opacity-0 pointer-events-none"
    >
        <span
            class="text-[10px] md:text-xs font-mono text-gray-500 uppercase tracking-widest"
            >Scroll</span
        >
        <div
            class="w-[1px] h-8 md:h-12 bg-gradient-to-b from-sky-500 to-transparent"
        >
        </div>
    </div>
</section>

<script>
    import { gsap } from "gsap";

    function animateHero() {
        // Only run if elements exist
        if (!document.querySelector(".hero-title-element")) return;

        const tl = gsap.timeline({ delay: 0.1 });

        // --- CINEMATIC REVEAL ---
        // Text animation
        tl.fromTo(
            ".hero-title-element",
            {
                y: 50,
                opacity: 0,
                filter: "blur(10px)",
                scale: 1.05,
            },
            {
                y: 0,
                opacity: 1,
                filter: "blur(0px)",
                scale: 1,
                duration: 1.2,
                stagger: 0.2,
                ease: "power3.out",
            },
        )
            // Description
            .fromTo(
                ".hero-desc",
                { y: 30, opacity: 0, filter: "blur(4px)" },
                {
                    y: 0,
                    opacity: 1,
                    filter: "blur(0px)",
                    duration: 1,
                    ease: "power2.out",
                },
                "-=0.8",
            )
            // Button
            .fromTo(
                ".hero-btn",
                { y: 30, opacity: 0, scale: 0.95 },
                {
                    y: 0,
                    opacity: 1,
                    scale: 1,
                    duration: 0.8,
                    ease: "back.out(1.5)",
                },
                "-=0.6",
            )
            // Scroll indicator
            .to(".hero-scroll", { opacity: 1, duration: 1 }, "-=0.5");
    }

    animateHero(); // Run once on load
    document.addEventListener("astro:page-load", animateHero);
</script>
